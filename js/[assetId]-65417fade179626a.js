(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8142],{62812:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[chain]/asset/[assetId]",function(){return n(98631)}])},61818:function(e,i,n){"use strict";var o=n(85893),l=n(46573),t=n(59832),s=n(67294),d=n(69077),r=n(40396),c=n(82702);let a=e=>{let{bidId:i,openState:n,trigger:a,mutate:u}=e,{addToast:v}=(0,s.useContext)(r.u),{openConnectModal:h}=(0,l.We)(),x=(0,c.gw)(),{data:g}=(0,d.py)();return g?(0,o.jsx)(t.BJ,{bidId:i,trigger:a,openState:n,chainId:x.id,onCancelComplete(e){null==v||v({title:"User canceled bid",description:"You have canceled the bid."})},onCancelError(e,i){console.log("Bid Cancel Error",e,i),null==v||v({title:"Could not cancel bid",description:"The transaction was not completed."})},onClose(e,i){u&&i==t.JE.Complete&&u()}}):(0,s.cloneElement)(a,{async onClick(){g||null==h||h()}})};i.Z=a},41456:function(e,i,n){"use strict";var o=n(85893),l=n(46573),t=n(59832),s=n(67294),d=n(69077),r=n(40396),c=n(82702);let a=e=>{let{listingId:i,openState:n,trigger:a,mutate:u}=e,{addToast:v}=(0,s.useContext)(r.u),{openConnectModal:h}=(0,l.We)(),x=(0,c.gw)(),{data:g}=(0,d.py)();return g?(0,o.jsx)(t.GO,{listingId:i,openState:n,trigger:a,chainId:x.id,onCancelComplete(e){null==v||v({title:"User canceled listing",description:"You have canceled the listing."})},onCancelError(e,i){console.log("Listing Cancel Error",e,i),null==v||v({title:"Could not cancel listing",description:"The transaction was not completed."})},onClose(e,i){u&&i==t.MD.Complete&&u()}}):(0,s.cloneElement)(a,{async onClick(){g||null==h||h()}})};i.Z=a},37801:function(e,i,n){"use strict";n.d(i,{Z:function(){return d}});var o=n(85893),l=n(79444);let t=e=>{let{badgeCss:i,badgeChildren:n}=e;return(0,o.jsx)(l.kC,{align:"center",justify:"center",css:{p:16,h:32,gap:8,borderRadius:8,...i},children:n})},s=()=>(0,o.jsx)(t,{badgeCss:{backgroundColor:"#302017",color:"#FFD700",maxWidth:137},badgeChildren:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"/icons/lock.svg",alt:"lock icon"}),"Soulbound"]})});var d=s},90345:function(e,i,n){"use strict";n.d(i,{Z:function(){return h}});var o=n(85893),l=n(59417),t=n(99603),s=n(79444),d=n(31139);let r=(0,d.zo)("div",{all:"unset",width:"auto",padding:"$4",borderRadius:"$space$2",fontFamily:"$body",fontSize:16,fontWeight:400,color:"$neutralText",backgroundColor:"$inputBackground"}),c=(0,d.zo)(s.zx,{minHeight:26,"&:disabled":{backgroundColor:"transparent",color:"$neutralGray400"},"&:disabled:hover":{backgroundColor:"transparent",color:"$neutralGray400"},cursor:"pointer",backgroundColor:"transparent",defaultVariants:{color:"neutralTransparent",size:"none"}}),a=(0,d.zo)("input",{border:0,background:"none",fontSize:16,maxWidth:53,textAlign:"center",color:"white"}),u=(0,d.zo)(s.kC,{w:25,maxHeight:26,backgroundColor:"$neutralGray300","&:hover":{backgroundColor:"#676869"}}),v=e=>{let{max:i,min:n,quantity:d,setQuantity:v,css:h}=e;return(0,o.jsxs)(r,{css:{gap:"$1",direction:"column",display:"flex",alignItems:"center",backgroundColor:"$neutralGray500",p:0,marginRight:20,maxWidth:68,...h},children:[(0,o.jsx)(a,{value:-1==d?"":d,onChange(e){if(""===e.target.value){v(-1);return}let o=Number(e.target.value||0);o&&o>=n&&o<=i?v(o):v(d)},onBlur(e){""===e.target.value?v(n):Number(e.target.value)>i&&v(i)}}),(0,o.jsxs)(s.kC,{direction:"column",justify:"between",align:"center",css:{w:25},children:[(0,o.jsx)(u,{css:{borderTopRightRadius:6},children:(0,o.jsx)(c,{css:{w:"100%",p:5,maxHeight:52},disabled:d>=i,onClick(e){e.preventDefault(),v(d+1)},children:(0,o.jsx)(t.G,{icon:l.r8p,width:"12",height:"12",style:{height:12},color:n===i&&d<=n?"$neutralGray400":"white"})})}),(0,o.jsx)(u,{css:{borderBottomRightRadius:6},children:(0,o.jsx)(c,{css:{w:"100%",p:5,maxHeight:52},disabled:d<=n,onClick(e){e.preventDefault(),v(d-1)},children:(0,o.jsx)(t.G,{icon:l.Kl4,width:"12",height:"12",style:{height:12},color:n===i&&d<=n?"$neutralGray400":"white"})})})]})]})};var h=v},24847:function(e,i,n){"use strict";var o=n(85893),l=n(59417),t=n(99603),s=n(79444),d=n(67294),r=n(39114),c=n(12854),a=n(59832),u=n(51526),v=n(6314),h=n(14512);let x=e=>{var i;let{token:n}=e,x=(0,a.uh)(null==n?void 0:null===(i=n.token)||void 0===i?void 0:i.media),g=(0,h.J)(n),[p,m]=(0,d.useState)(!1),y=(0,o.jsx)(s.zx,{color:"gray3",corners:"circle",css:{position:"absolute",right:12,top:12},children:(0,o.jsx)(t.G,{icon:l.TL5,width:16,height:16})});return"png"===x||"jpeg"===x||"jpg"===x||"gif"===x||null==x?(0,o.jsxs)(c.fC,{modal:!0,open:p,onOpenChange:m,children:[(0,o.jsx)(c.hg,{asChild:!0,children:y}),(0,o.jsx)(u.M,{children:p?(0,o.jsxs)(c.PK,{forceMount:!0,children:[(0,o.jsx)(r.Q3,{style:{position:"fixed",zIndex:1e3,inset:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"20px",opacity:1},children:(0,o.jsx)(c.GG,{children:(0,o.jsx)(s.zx,{color:"gray3",corners:"circle",css:{position:"absolute",right:12,top:12},children:(0,o.jsx)(t.G,{icon:l.Qj4,width:16,height:16})})})}),(0,o.jsx)(r.hS,{style:{zIndex:2e3,top:"50%",border:"none",borderRadius:0,background:"none"},forceMount:!0,children:(0,o.jsx)(v.E.div,{transition:{type:"spring",duration:1},initial:{opacity:0,top:"0%"},animate:{opacity:1,top:"50%"},exit:{opacity:0,top:"0%"},children:(0,o.jsx)(s.kC,{direction:"column",align:"center",justify:"center",css:{flexDirection:"column",height:"100%",width:"100%",maxWidth:"100%"},children:(0,o.jsx)(a.Y1,{token:null==g?void 0:g.token,style:{borderRadius:0,width:"100vw",height:"auto",padding:"4px"}})})})})]}):null})]}):null};i.Z=x},98631:function(e,i,n){"use strict";n.r(i),n.d(i,{__N_SSP:function(){return eS},default:function(){return eI}});var o=n(85893),l=n(45297),t=n(59832),s=n(41664),d=n.n(s),r=n(11163),c=n(67294),a=n(44111),u=n(35342),v=n.n(u),h=n(59417),x=n(99603),g=n(1852),p=n(69077),m=n(4049),y=n(51943),j=n(52158),k=n(33808),f=n(37801),b=n(79444),C=n(12623),w=n(53370),$=n(18188),S=n(61194);let I=e=>{let{open:i,setOpen:n,activityTypes:l,activityNames:t,setActivityTypes:s,setActivityNames:d}=e,r=[{type:"sale",name:"Sales",icon:h.sq$},{type:"ask",name:"Listings",icon:h.LEN},{type:"bid",name:"Offers",icon:h.ioV},{type:"transfer",name:"Transfer",icon:h.eRx},{type:"mint",name:"Mint",icon:h.YKZ}];return(0,o.jsx)($.fC,{open:i,onOpenChange:n,style:{transition:"width .5s",width:i?320:0},children:(0,o.jsx)(S.Fw,{css:{position:"sticky",top:96,height:"max-content",overflow:"auto"},children:(0,o.jsx)(b.kC,{direction:"column",css:{"& > div:first-of-type":{mt:"$2"}},children:r.map(e=>(0,o.jsxs)(b.kC,{css:{mb:"$3",gap:"$3"},align:"center",children:[(0,o.jsx)(b.xu,{css:{color:"$gray11"},children:(0,o.jsx)(x.G,{icon:e.icon,width:16,height:16})}),(0,o.jsx)(b.xv,{style:"body1",css:{flex:1},children:e.name}),(0,o.jsx)(b.kC,{align:"center",children:(0,o.jsx)(b.rs,{checked:null==l?void 0:l.includes(e.type),onCheckedChange(i){i?(s([...l,e.type]),d([...t,e.name])):(d(t.filter(i=>i!=e.name)),s(l.filter(i=>i!=e.type)))}})})]},e.type))})})},"hi")};var A=n(74431),R=n(14646),z=n(82702),T=n(5678),W=n(1958);let G=e=>{let{id:i,activityTypes:n}=e,l=(0,t.oG)(i,{types:n},{revalidateOnMount:!0,fallbackData:[]});return(0,c.useEffect)(()=>(l.mutate(),()=>{l.setSize(1)}),[]),(0,o.jsx)(D,{data:l})},D=e=>{let{data:i}=e,n=(0,c.useRef)(null),l=(0,T.S1)(n,{}),t=i.data;return(0,c.useEffect)(()=>{let e=!!(null==l?void 0:l.isIntersecting);e&&i.fetchNextPage()},[null==l?void 0:l.isIntersecting]),(0,o.jsxs)(o.Fragment,{children:[i.isValidating||i.isFetchingPage||!t||0!==t.length?(0,o.jsxs)(b.kC,{direction:"column",css:{height:i.isLoading?"225px":"450px",overflowY:"auto",width:"100%",pb:"$2",pr:15},children:[t.map((e,i)=>e?(0,o.jsx)(O,{activity:e},"".concat(null==e?void 0:e.txHash,"-").concat(i)):null),(0,o.jsx)(b.xu,{ref:n,css:{height:20}})]}):(0,o.jsxs)(b.kC,{direction:"column",align:"center",css:{py:"$6",gap:"$4"},children:[(0,o.jsx)("img",{src:"/icons/activity-icon.svg",width:40,height:40}),(0,o.jsx)(b.xv,{children:"No activity yet"})]}),i.isValidating&&(0,o.jsx)(b.kC,{align:"center",justify:"center",css:{py:"$5"},children:(0,o.jsx)(A.Z,{})})]})},E={transfer:(0,o.jsx)(x.G,{icon:h.eRx,width:16,height:16}),sale:(0,o.jsx)(x.G,{icon:h.sq$,width:16,height:16}),mint:(0,o.jsx)(x.G,{icon:h.YKZ,width:16,height:16}),burned:(0,o.jsx)(x.G,{icon:h.$aW,width:16,height:16}),listing_canceled:(0,o.jsx)(x.G,{icon:h.g82,width:16,height:16}),ask_cancel:(0,o.jsx)(x.G,{icon:h.g82,width:16,height:16}),offer_canceled:(0,o.jsx)(x.G,{icon:h.g82,width:16,height:16}),ask:(0,o.jsx)(x.G,{icon:h.LEN,width:16,height:16}),bid:(0,o.jsx)(x.G,{icon:h.ioV,width:16,height:16})},B={ask_cancel:"Listing Canceled",bid_cancel:"Offer Canceled",mint:"Mint",ask:"List",bid:"Offer",transfer:"Transfer",sale:"Sale"},N=e=>B[e]||e,O=e=>{var i,n,l,t,s,r,c,a,u,v,p,m,y,j,k,f,C,w;let{activity:$}=e,S=(0,g.useMediaQuery)({maxWidth:700}),I=(0,z.gw)(),A=(null==I?void 0:null===(i=I.blockExplorers)||void 0===i?void 0:null===(n=i.default)||void 0===n?void 0:n.url)||"https://etherscan.io";if(!$)return null;let T=N((null==$?void 0:$.type)||""),{displayName:G}=(0,z.Af)(null==$?void 0:$.toAddress),{displayName:D}=(0,z.Af)(null==$?void 0:$.fromAddress);return S?(0,o.jsxs)(b.SC,{css:{gridTemplateColumns:"0.75fr 1fr"},children:[(0,o.jsx)(b.pj,{css:{color:"$gray11"},children:(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",children:[$.type&&E[$.type],(0,o.jsx)(b.xv,{style:"subtitle1",css:{ml:"$2",color:"$gray11",fontSize:"14px"},children:T})]}),$.price&&(null===(p=$.price.amount)||void 0===p?void 0:p.decimal)!==0&&$.type&&"transfer"!==$.type?(0,o.jsx)(b.kC,{align:"center",children:(0,o.jsx)(R.Z,{amount:$.price.amount,address:null===(m=$.price.currency)||void 0===m?void 0:m.contract,logoHeight:16,maximumFractionDigits:7,textStyle:"subtitle1",css:{mr:"$2",fontSize:"14px"}})}):(0,o.jsx)("span",{children:"-"})]})}),(0,o.jsx)(b.pj,{children:(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",justify:"end",css:{gap:"$3"},children:[!!(null===(y=$.order)||void 0===y?void 0:null===(j=y.source)||void 0===j?void 0:j.icon)&&(0,o.jsx)("img",{width:"20px",height:"20px",src:(null===(k=$.order)||void 0===k?void 0:null===(f=k.source)||void 0===f?void 0:f.icon)||"",alt:"".concat(null===(C=$.order)||void 0===C?void 0:null===(w=C.source)||void 0===w?void 0:w.name," Source")}),(0,o.jsx)(b.xv,{style:"subtitle3",color:"subtle",children:(0,z.vS)(null==$?void 0:$.timestamp)}),$.txHash&&(0,o.jsx)(b.ee,{href:"".concat(A,"/tx/").concat($.txHash),color:"primary",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(x.G,{icon:h.gJF,width:12,height:15})})]}),(0,o.jsxs)(b.kC,{align:"baseline",justify:"end",css:{gap:"$3"},children:[$.fromAddress&&$.fromAddress!==W.D?(0,o.jsx)(d(),{href:"/portfolio/".concat($.fromAddress),children:(0,o.jsx)(b.xv,{style:"subtitle3",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:D})}):(0,o.jsx)("span",{children:"-"}),(0,o.jsx)(b.xv,{style:"subtitle3",css:{fontSize:"12px",color:"$gray11"},children:"to"}),$.toAddress&&$.toAddress!==W.D?(0,o.jsx)(d(),{href:"/portfolio/".concat($.toAddress),children:(0,o.jsx)(b.xv,{style:"subtitle3",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:G})}):(0,o.jsx)("span",{children:"-"})]})]})})]},$.txHash):(0,o.jsxs)(b.SC,{css:{gridTemplateColumns:"1fr 1fr"},children:[(0,o.jsx)(b.pj,{css:{color:"$gray11"},children:(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",children:[$.type&&E[$.type],(0,o.jsx)(b.xv,{style:"subtitle2",css:{ml:"$2"},color:"subtle",children:T})]}),$.price&&(null===(l=$.price.amount)||void 0===l?void 0:l.decimal)!==0&&$.type&&"transfer"!==$.type?(0,o.jsx)(b.kC,{align:"center",children:(0,o.jsx)(R.Z,{amount:$.price.amount,address:null===(t=$.price.currency)||void 0===t?void 0:t.contract,logoHeight:16,maximumFractionDigits:7,textStyle:"subtitle1",css:{mr:"$2",fontSize:"14px"}})}):(0,o.jsx)("span",{children:"-"})]})}),(0,o.jsx)(b.pj,{children:(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",justify:"end",css:{gap:"$3"},children:[!!(null===(s=$.order)||void 0===s?void 0:null===(r=s.source)||void 0===r?void 0:r.icon)&&(0,o.jsx)("img",{width:"20px",height:"20px",src:(null===(c=$.order)||void 0===c?void 0:null===(a=c.source)||void 0===a?void 0:a.icon)||"",alt:"".concat(null===(u=$.order)||void 0===u?void 0:null===(v=u.source)||void 0===v?void 0:v.name," Source")}),(0,o.jsx)(b.xv,{style:"body2",color:"subtle",children:(0,z.vS)(null==$?void 0:$.timestamp)}),$.txHash&&(0,o.jsx)(b.ee,{href:"".concat(A,"/tx/").concat($.txHash),color:"primary",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(x.G,{icon:h.gJF,width:12,height:15})})]}),(0,o.jsxs)(b.kC,{justify:"end",css:{gap:"$3"},children:[$.fromAddress&&$.fromAddress!==W.D?(0,o.jsx)(d(),{style:{display:"flex"},href:"/portfolio/".concat($.fromAddress),children:(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:D})}):(0,o.jsx)("span",{children:"-"}),(0,o.jsx)(b.xv,{style:"body2",color:"subtle",children:"to"}),$.toAddress&&$.toAddress!==W.D?(0,o.jsx)(d(),{style:{display:"flex"},href:"/portfolio/".concat($.toAddress),children:(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:G})}):(0,o.jsx)("span",{children:"-"})]})]})})]},$.txHash)};var Z=n(23701),H=e=>{var i;let{attribute:n,collectionTokenCount:l,collectionId:t}=e,{routePrefix:s}=(0,z.gw)(),r=(null==n?void 0:n.tokenCount)||0,c=l?Number(l):0,a=(0,Z.uf)(r/c*100,1),u="/".concat(s,"/collection/").concat(t,"?attributes[").concat(n.key,"]=").concat(n.value),v=null==n?void 0:null===(i=n.key)||void 0===i?void 0:i.replace("_"," ");return(0,o.jsx)(d(),{href:u,style:{minWidth:0},children:(0,o.jsxs)(b.kC,{direction:"column",css:{background:"$gray2",mr:"auto",px:"$4",py:"$3",borderRadius:8,gap:"$1",width:"100%",height:"100%"},children:[(0,o.jsx)(b.xv,{style:"subtitle3",css:{textTransform:"uppercase"},color:"subtle",ellipsify:!0,children:v}),(0,o.jsx)(b.kC,{justify:"between",css:{gap:"$2"},children:(0,o.jsx)(b.xv,{style:"subtitle1",ellipsify:!0,children:n.value})}),(0,o.jsx)(b.kC,{justify:"between",children:(0,o.jsxs)(b.xv,{style:"body3",css:{color:"$gray11"},children:[(0,Z.uf)(n.tokenCount)," (",a,"%) have this"]})})]})})},F=n(44930),L=n(40396),P=n(84205),q=n(94830);function _(e){var i,n,l,t,s,r,a;let{router:u,token:v,collection:g,contract:p,id:m}=e,{addToast:y}=(0,c.useContext)(L.u),[j,k]=(0,c.useState)(!1),{proxyApi:f}=(0,z.gw)();return(0,o.jsxs)(b.kC,{justify:"between",align:"center",css:{mb:"$4"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{mr:"$2",gap:"$2"},children:[(0,o.jsx)(d(),{href:"/".concat(u.query.chain,"/collection/").concat(null==v?void 0:null===(i=v.token)||void 0===i?void 0:null===(n=i.collection)||void 0===n?void 0:n.id),legacyBehavior:!0,children:(0,o.jsxs)(b.ee,{color:"primary",css:{display:"flex",alignItems:"center",gap:"$2"},children:[(0,o.jsx)(x.G,{icon:h.acZ,height:16}),(0,o.jsx)(b.xv,{css:{color:"inherit"},style:"subtitle1",ellipsify:!0,children:null==v?void 0:null===(l=v.token)||void 0===l?void 0:null===(t=l.collection)||void 0===t?void 0:t.name})]})}),(0,o.jsx)(F.v,{openseaVerificationStatus:null==g?void 0:g.openseaVerificationStatus})]}),(0,o.jsxs)(b.kC,{direction:"row",align:"center",css:{gap:"$2"},children:[(0,o.jsx)(b.u,{sideOffset:4,content:(0,o.jsx)(b.xv,{style:"body3",css:{display:"block"},children:"Transfer"}),children:(0,o.jsx)(d(),{href:"/".concat(u.query.chain,"/asset/").concat(null==v?void 0:null===(s=v.token)||void 0===s?void 0:null===(r=s.collection)||void 0===r?void 0:r.id,":").concat(null==v?void 0:null===(a=v.token)||void 0===a?void 0:a.tokenId,"/transfer"),children:(0,o.jsx)(b.zx,{color:"gray3",size:"xs","aria-label":"transfer token",children:(0,o.jsx)(x.G,{icon:h.XCy,width:16,height:16})})})}),(0,o.jsx)(b.u,{sideOffset:4,content:(0,o.jsx)(b.xv,{style:"body3",css:{display:"block"},children:"Refresh Metadata"}),children:(0,o.jsx)(b.zx,{onClick(e){if(j){e.preventDefault();return}k(!0),(0,P.ZP)("".concat(window.location.origin,"/").concat(f,"/tokens/refresh/v1"),void 0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:"".concat(p,":").concat(m)})}).then(e=>{let{data:i,response:n}=e;if(200===n.status)null==y||y({title:"Refresh token",description:"Request to refresh this token was accepted."});else throw i;k(!1)}).catch(e=>{var i;let n=null===(i=q.n.exec(null==e?void 0:e.message))||void 0===i?void 0:i[0];throw null==y||y({title:"Refresh token failed",description:n?"This token was recently refreshed. The next available refresh is ".concat((0,q.x)(n),"."):"This token was recently refreshed. Please try again later."}),k(!1),e})},disabled:j,color:"gray3",size:"xs",css:{cursor:j?"not-allowed":"pointer"},children:(0,o.jsx)(b.xu,{css:{animation:j?"".concat(A.O," 1s cubic-bezier(0.76, 0.35, 0.2, 0.7) infinite"):"none"},children:(0,o.jsx)(x.G,{icon:h.QDM,width:16,height:16})})})})]})]})}var U=n(24847),M=n(41456),V=n(46573);let Y=e=>{let{listingId:i,tokenId:n,collectionId:l,disabled:s,openState:d,buttonCss:r,buttonProps:a,buttonChildren:u,mutate:v}=e,{isDisconnected:h}=(0,p.mA)(),{openConnectModal:x}=(0,V.We)(),{addToast:g}=(0,c.useContext)(L.u),m=(0,z.gw)(),{data:y}=(0,p.py)(),j=(0,o.jsx)(b.zx,{css:r,disabled:s,...a,color:"gray3",children:u});return h?(0,c.cloneElement)(j,{async onClick(){y||null==x||x()}}):(0,o.jsx)(t.oU,{trigger:j,openState:d,listingId:i,tokenId:n,collectionId:l,chainId:m.id,onClose(e,i){v&&i==t.qy.Complete&&v()},onEditListingError(e){if((null==e?void 0:e.code)===4001){null==g||g({title:"User canceled transaction",description:"You have canceled the transaction."});return}null==g||g({title:"Could not edit listing",description:"The transaction was not completed."})}})};var J=n(43810);let Q=e=>{let{checked:i,onCheckedChange:n}=e;return(0,o.jsxs)(b.kC,{align:"center",justify:"between",css:{width:"100%",backgroundColor:"$gray2",borderRadius:4,py:"$3",px:"$4",gap:"$3"},children:[(0,o.jsx)(b.xv,{style:"subtitle2",color:"subtle",children:"Only Mine"}),(0,o.jsx)(b.rs,{checked:i,onCheckedChange:e=>n(e)})]})},X=e=>{let{address:i,is1155:n,isOwner:l,token:s,tokenSrc:d="",tokenString:r}=e,a=(0,c.useRef)(null),u=(0,T.S1)(a,{}),[v,g]=(0,c.useState)(!1),p={maker:v?i:void 0,token:r,includeCriteriaMetadata:!0,includeRawData:!0,sortBy:"price"},{chain:m}=(0,c.useContext)(J.p);m.community&&(p.community=m.community);let{data:y,fetchNextPage:j,mutate:k,isValidating:f,isFetchingPage:C,isLoading:w}=(0,t.Jn)(p,{revalidateFirstPage:!0}),{data:$}=(0,t.Jn)({...p,maker:i}),S=$.length>0;return(0,c.useEffect)(()=>{let e=!!(null==u?void 0:u.isIntersecting);e&&j()},[null==u?void 0:u.isIntersecting]),(0,o.jsxs)(o.Fragment,{children:[f||C||!y||0!==y.length?(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$4"},children:[i&&S&&n?(0,o.jsx)(Q,{checked:v,onCheckedChange:e=>g(e)}):null,(0,o.jsxs)(b.kC,{direction:"column",css:{height:"100%",maxHeight:w?"20px":"450px",overflowY:"auto",width:"100%",pb:"$2"},children:[y.map((e,t)=>(0,o.jsx)(K,{listing:e,token:s,tokenSrc:d,tokenString:r,address:i,is1155:n,isOwner:l,mutate:k},"".concat(null==e?void 0:e.id,"-").concat(t))),(0,o.jsx)(b.xu,{ref:a,css:{height:20}})]})]}):(0,o.jsxs)(b.kC,{direction:"column",align:"center",css:{py:"$6",gap:"$4",width:"100%"},children:[(0,o.jsx)(b.xv,{css:{color:"$gray11"},children:(0,o.jsx)(x.G,{icon:h.LEN,size:"2xl"})}),(0,o.jsx)(b.xv,{css:{color:"$gray11"},children:"No listings yet"})]}),f&&(0,o.jsx)(b.kC,{align:"center",justify:"center",css:{py:"$5"},children:(0,o.jsx)(A.Z,{})})]})},K=e=>{var i,n,l,t,s,r,a,u,v,g,p,m,y,k,f,C,w,$,S,I,A,T;let{listing:G,token:D,tokenSrc:E="",tokenString:B,is1155:N,isOwner:O,address:H,mutate:F}=e,{displayName:L}=(0,z.Af)(G.maker),{reservoirBaseUrl:P}=(0,z.gw)(),q=(0,z.vS)(null==G?void 0:G.expiration),[_,U]=(0,c.useState)(!1),V=(null==H?void 0:H.toLowerCase())===G.maker.toLowerCase(),J=null==G?void 0:G.isNativeOffChainCancellable,Q=null==B?void 0:B.split(":")[0],X=null==B?void 0:B.split(":")[1],K=null==G?void 0:null===(i=G.source)||void 0===i?void 0:i.name,ee=null==G?void 0:null===(n=G.source)||void 0===n?void 0:n.domain;return"".concat(P,"/redirect/sources/").concat(ee||K,"/logo/v2"),(0,o.jsxs)(b.SC,{css:{gridTemplateColumns:"none",display:"flex",justifyContent:"space-between",alignItems:"flex-start",py:"$3"},children:[(0,o.jsxs)(b.kC,{direction:"column",align:"start",css:{height:"100%",gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$1",height:36},children:[(0,o.jsx)(R.Z,{amount:null===(l=G.price)||void 0===l?void 0:l.amount,address:null===(t=G.price)||void 0===t?void 0:null===(s=t.currency)||void 0===s?void 0:s.contract,logoHeight:16,maximumFractionDigits:7,textStyle:"h6"}),(null===(r=G.price)||void 0===r?void 0:null===(a=r.amount)||void 0===a?void 0:a.usd)?(0,o.jsx)(b.xv,{style:"body2",css:{color:"$gray11"},ellipsify:!0,children:(0,Z.el)(null===(u=G.price)||void 0===u?void 0:null===(v=u.amount)||void 0===v?void 0:v.usd)}):null,(null==G?void 0:G.quantityRemaining)&&(null==G?void 0:G.quantityRemaining)>1?(0,o.jsx)(b.kC,{justify:"center",align:"center",css:{borderRadius:4,px:"$2",py:"$1",ml:"$1",backgroundColor:"$gray2"},children:(0,o.jsxs)(b.xv,{style:"subtitle2",color:"subtle",children:["x",(0,Z.uf)(G.quantityRemaining,0,!0)]})}):null]}),(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$1"},children:[(0,o.jsx)(b.xv,{style:"body2",color:"subtle",css:{lineHeight:"14.5px"},children:"from"}),G.maker&&G.maker!==W.D?(0,o.jsx)(d(),{href:"/portfolio/".concat(G.maker),style:{lineHeight:"14.5px"},children:(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:L})}):(0,o.jsx)("span",{children:"-"})]})]}),(0,o.jsxs)(b.kC,{direction:"column",align:"end",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$2"},children:[O||N?null:(0,o.jsx)(j.Wg,{analyticsId:"click buy now on token item listings tab",token:D,setIsBuyNowOpen:U,quantity:null!==(T=null==G?void 0:G.quantityRemaining)&&void 0!==T?T:1,tokenId:(null===(g=G.criteria)||void 0===g?void 0:null===(p=g.data)||void 0===p?void 0:null===(m=p.token)||void 0===m?void 0:m.tokenId)||X,contract:(null===(y=G.criteria)||void 0===y?void 0:null===(k=y.data)||void 0===k?void 0:null===(f=k.collection)||void 0===f?void 0:f.id)||Q,orderId:G.id,source:E,buttonChildren:"Buy",buttonCss:{fontSize:14,flex:1,justifyContent:"center"},mutate:F,openState:O?void 0:[_,U]}),O&&V?(0,o.jsxs)(o.Fragment,{children:[J?(0,o.jsx)(Y,{listingId:G.id,tokenId:(null===(C=G.criteria)||void 0===C?void 0:null===(w=C.data)||void 0===w?void 0:null===($=w.token)||void 0===$?void 0:$.tokenId)||X,collectionId:(null===(S=G.criteria)||void 0===S?void 0:null===(I=S.data)||void 0===I?void 0:null===(A=I.collection)||void 0===A?void 0:A.id)||Q,buttonChildren:(0,o.jsx)(b.xv,{style:"subtitle2",children:"Edit"}),buttonCss:{fontSize:14,px:"$4",py:"$2",minHeight:36,minWidth:80,justifyContent:"center"},mutate:F}):null,(0,o.jsx)(M.Z,{listingId:null==G?void 0:G.id,mutate:F,trigger:(0,o.jsx)(b.kC,{children:J?(0,o.jsx)(b.zx,{css:{color:"$red11",justifyContent:"center",fontSize:14,fontWeight:500,px:"$4",py:"$2",minHeight:36},color:"gray3",children:"Cancel"}):(0,o.jsx)(b.u,{content:(0,o.jsx)(b.xv,{style:"body3",as:"p",children:"Cancelling this order requires gas."}),children:(0,o.jsxs)(b.zx,{css:{color:"$red11",justifyContent:"center",fontSize:14,fontWeight:500,px:"$4",py:"$2",minHeight:36},color:"gray3",children:[(0,o.jsx)(x.G,{color:"#697177",icon:h.q16,width:"16",height:"16"}),"Cancel"]})})})})]}):null]}),(0,o.jsx)(b.xv,{style:"body2",color:"subtle",children:q?"Expires ".concat(q):null})]})]})};var ee=n(61818);let ei=e=>{let{bidId:i,tokenId:n,collectionId:l,disabled:s,openState:d,buttonCss:r,buttonProps:a,buttonChildren:u,mutate:v}=e,{isDisconnected:h}=(0,p.mA)(),{openConnectModal:x}=(0,V.We)(),{addToast:g}=(0,c.useContext)(L.u),m=(0,z.gw)(),{data:y}=(0,p.py)(),j=(0,o.jsx)(b.zx,{css:r,disabled:s,...a,color:"gray3",children:u});return h?(0,c.cloneElement)(j,{async onClick(){y||null==x||x()}}):(0,o.jsx)(t.O7,{trigger:j,openState:d,bidId:i,tokenId:n,collectionId:l,chainId:m.id,onClose(e,i){v&&i==t.bA.Complete&&v()},onEditBidError(e){if((null==e?void 0:e.code)===4001){null==g||g({title:"User canceled transaction",description:"You have canceled the transaction."});return}null==g||g({title:"Could not edit offer",description:"The transaction was not completed."})}})};var en=n(35861),eo=n(22381);let el=e=>{let{token:i,address:n,is1155:l,isOwner:s}=e,d=(0,c.useRef)(null),r=(0,T.S1)(d,{}),[a,u]=(0,c.useState)(!1),v={maker:a?n:void 0,token:i,includeCriteriaMetadata:!0,includeRawData:!0,sortBy:"price"},{chain:g}=(0,c.useContext)(J.p);g.community&&(v.community=g.community);let{data:p,fetchNextPage:m,mutate:y,isValidating:j,isFetchingPage:k,isLoading:f}=(0,t.Lk)(v,{revalidateFirstPage:!0}),{data:C}=(0,t.Lk)({...v,maker:n}),w=C.length>0;return(0,c.useEffect)(()=>{let e=!!(null==r?void 0:r.isIntersecting);e&&m()},[null==r?void 0:r.isIntersecting]),(0,o.jsxs)(o.Fragment,{children:[j||k||!p||0!==p.length?(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$4"},children:[n&&w?(0,o.jsx)(Q,{checked:a,onCheckedChange:e=>u(e)}):null,(0,o.jsxs)(b.kC,{direction:"column",css:{height:"100%",maxHeight:f?"20px":"450px",overflowY:"auto",width:"100%",pb:"$2"},children:[p.map((e,t)=>(0,o.jsx)(et,{offer:e,tokenString:i,address:n,is1155:l,isOwner:s,mutate:y},"".concat(null==e?void 0:e.id,"-").concat(t))),(0,o.jsx)(b.xu,{ref:d,css:{height:20}})]})]}):(0,o.jsxs)(b.kC,{direction:"column",align:"center",css:{py:"$6",gap:"$4",width:"100%"},children:[(0,o.jsx)(b.xv,{css:{color:"$gray11"},children:(0,o.jsx)(x.G,{icon:h.ioV,size:"2xl"})}),(0,o.jsx)(b.xv,{css:{color:"$gray11"},children:"No offers made yet"})]}),j&&(0,o.jsx)(b.kC,{align:"center",justify:"center",css:{py:"$5"},children:(0,o.jsx)(A.Z,{})})]})},et=e=>{var i,n,l,t,s,r,a,u,v,g,p,m,y,k,f,C,w,$,S,I,A,T,G,D,E,B,N,O,Z,H,F,L;let{offer:P,tokenString:q,is1155:_,isOwner:U,address:M,mutate:V}=e,{displayName:Y}=(0,z.Af)(P.maker),{reservoirBaseUrl:J}=(0,z.gw)(),{priceDisplay:Q}=(0,c.useContext)(en.o),X=(0,z.vS)(null==P?void 0:P.expiration),K=(null==M?void 0:M.toLowerCase())===P.maker.toLowerCase(),el=null==P?void 0:P.isNativeOffChainCancellable,et=null==q?void 0:q.split(":")[0],es=null==q?void 0:q.split(":")[1],ed=null==P?void 0:null===(i=P.source)||void 0===i?void 0:i.name,er=null==P?void 0:null===(n=P.source)||void 0===n?void 0:n.domain;return"".concat(J,"/redirect/sources/").concat(er||ed,"/logo/v2"),(0,o.jsxs)(b.SC,{css:{gridTemplateColumns:"none",display:"flex",justifyContent:"space-between",alignItems:"flex-start",py:"$3"},children:[(0,o.jsxs)(b.kC,{direction:"column",align:"start",css:{height:"100%",gap:"$1"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$1",height:36},children:[(0,o.jsx)(b.u,{side:"top",open:null!=P&&null!==(l=P.price)&&void 0!==l&&null!==(t=l.netAmount)&&void 0!==t&&!!t.decimal&&void 0,content:(0,o.jsxs)(b.kC,{justify:"between",css:{gap:"$2"},children:[(0,o.jsx)(b.xv,{style:"body3",children:"Net Amount"}),(0,o.jsx)(R.Z,{amount:null==P?void 0:null===(s=P.price)||void 0===s?void 0:s.netAmount,address:null==P?void 0:null===(r=P.price)||void 0===r?void 0:null===(a=r.currency)||void 0===a?void 0:a.contract,decimals:null==P?void 0:null===(u=P.price)||void 0===u?void 0:null===(v=u.currency)||void 0===v?void 0:v.decimals,textStyle:"subtitle3",maximumFractionDigits:7,logoHeight:14})]}),children:(0,o.jsx)(b.kC,{children:(0,o.jsx)(R.Z,{amount:null==P?void 0:null===(g=P.price)||void 0===g?void 0:g.amount,address:null==P?void 0:null===(p=P.price)||void 0===p?void 0:null===(m=p.currency)||void 0===m?void 0:m.contract,decimals:null==P?void 0:null===(y=P.price)||void 0===y?void 0:null===(k=y.currency)||void 0===k?void 0:k.decimals,textStyle:"h6",maximumFractionDigits:7,logoHeight:16})})}),(0,o.jsx)(b.xv,{style:"body2",css:{color:"$gray11"},ellipsify:!0,children:(null===(f=P.price)||void 0===f?void 0:null===(C=f.amount)||void 0===C?void 0:C.decimal)&&Q===eo.n.USD?(0,o.jsx)(b.gv,{amount:null===(w=P.price)||void 0===w?void 0:null===($=w.amount)||void 0===$?void 0:$.decimal}):(0,o.jsx)(b.uA,{amount:null===(S=P.price)||void 0===S?void 0:null===(I=S.amount)||void 0===I?void 0:I.usd})})]}),(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$1"},children:[(0,o.jsx)(b.xv,{style:"body2",color:"subtle",css:{lineHeight:"14.5px"},children:"from"}),P.maker&&P.maker!==W.D?(0,o.jsx)(d(),{href:"/portfolio/".concat(P.maker),style:{lineHeight:"14.5px"},children:(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"$primary11","&:hover":{color:"$primary10"}},children:Y})}):(0,o.jsx)("span",{children:"-"})]})]}),(0,o.jsxs)(b.kC,{direction:"column",align:"end",css:{gap:"$2"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$2"},children:[U&&!K?(0,o.jsx)(j.ZS,{analyticsId:"click marketplace accept - offers tab in token details page",bidId:P.id,collectionId:(null===(A=P.criteria)||void 0===A?void 0:null===(T=A.data)||void 0===T?void 0:null===(G=T.collection)||void 0===G?void 0:G.id)||et,tokenId:(null===(D=P.criteria)||void 0===D?void 0:null===(E=D.data)||void 0===E?void 0:null===(B=E.token)||void 0===B?void 0:B.tokenId)||es,buttonChildren:(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"white"},children:"Accept"}),buttonProps:{color:"primary"},buttonCss:{fontSize:14,px:"$4",py:"$2",minHeight:36}}):null,!U&&K||U&&_&&K?(0,o.jsxs)(o.Fragment,{children:[el?(0,o.jsx)(ei,{bidId:P.id,tokenId:(null===(N=P.criteria)||void 0===N?void 0:null===(O=N.data)||void 0===O?void 0:null===(Z=O.token)||void 0===Z?void 0:Z.tokenId)||es,collectionId:(null===(H=P.criteria)||void 0===H?void 0:null===(F=H.data)||void 0===F?void 0:null===(L=F.collection)||void 0===L?void 0:L.id)||et,buttonChildren:(0,o.jsx)(b.xv,{style:"subtitle2",children:"Edit"}),buttonCss:{fontSize:14,px:"$4",py:"$2",minHeight:36,minWidth:80,justifyContent:"center"},mutate:V}):null,(0,o.jsx)(ee.Z,{bidId:null==P?void 0:P.id,mutate:V,trigger:(0,o.jsx)(b.kC,{children:el?(0,o.jsx)(b.zx,{css:{color:"$red11",justifyContent:"center",fontSize:14,fontWeight:500,px:"$4",py:"$2",minHeight:36},color:"gray3",children:"Cancel"}):(0,o.jsx)(b.u,{content:(0,o.jsx)(b.xv,{style:"body3",as:"p",children:"Cancelling this order requires gas."}),children:(0,o.jsxs)(b.zx,{css:{color:"$red11",justifyContent:"center",fontSize:14,fontWeight:500,px:"$4",py:"$2",minHeight:36},color:"gray3",children:[(0,o.jsx)(x.G,{color:"#697177",icon:h.q16,width:"16",height:"16"}),"Cancel"]})})})})]}):null]}),(0,o.jsx)(b.xv,{style:"body2",color:"subtle",children:X?"Expires ".concat(X):null})]})]})},es=e=>{var i,n,l,t,s,d,r,a,u,v,h,x,g,p,m,y,j,k,f,C,w,$,S,I,A,T,W,G,D,E,B,N,O,Z,H,F,L,P,q,_,U,M,V,Y,J,Q,X,K,ee,ei,el,et,es,ed,er,ec,ea,eu,ev,eh,ex,eg,ep,em,ey,ej,ek,ef,eb,eC,ew,e$,eS,eI,eA;let{token:eR}=e,{reservoirBaseUrl:ez}=(0,z.gw)(),{priceDisplay:eT}=(0,c.useContext)(en.o),eW=null==eR?void 0:null===(i=eR.market)||void 0===i?void 0:null===(n=i.floorAsk)||void 0===n?void 0:null===(l=n.source)||void 0===l?void 0:l.name,eG=null==eR?void 0:null===(t=eR.market)||void 0===t?void 0:null===(s=t.floorAsk)||void 0===s?void 0:null===(d=s.source)||void 0===d?void 0:d.domain,eD=null==eR?void 0:null===(r=eR.market)||void 0===r?void 0:null===(a=r.topBid)||void 0===a?void 0:null===(u=a.source)||void 0===u?void 0:u.name,eE=null==eR?void 0:null===(v=eR.market)||void 0===v?void 0:null===(h=v.topBid)||void 0===h?void 0:null===(x=h.source)||void 0===x?void 0:x.domain;return"".concat(ez,"/redirect/sources/").concat(eG||eW,"/logo/v2"),"".concat(ez,"/redirect/sources/").concat(eE||eD,"/logo/v2"),"".concat(ez,"/redirect/sources/").concat(eG||eW,"/tokens/").concat(null==eR?void 0:null===(g=eR.token)||void 0===g?void 0:g.contract,":").concat(null==eR?void 0:null===(p=eR.token)||void 0===p?void 0:p.tokenId,"/link/v2"),"".concat(ez,"/redirect/sources/").concat(eE||eD,"/tokens/").concat(null==eR?void 0:null===(m=eR.token)||void 0===m?void 0:m.contract,":").concat(null==eR?void 0:null===(y=eR.token)||void 0===y?void 0:y.tokenId,"/link/v2"),(0,o.jsxs)(b.kC,{css:{gap:"$6",pt:"$5",pb:"$5"},children:[(0,o.jsxs)(b.kC,{direction:"column",align:"start",css:{gap:"$1"},children:[(0,o.jsx)(b.xv,{style:"subtitle2",children:"Price"}),(0,o.jsxs)(b.kC,{align:"center",css:{flexDirection:"column","@bp400":{flexDirection:"row",gap:"$2"}},children:[(0,o.jsx)(R.Z,{amount:null==eR?void 0:null===(j=eR.market)||void 0===j?void 0:null===(k=j.floorAsk)||void 0===k?void 0:null===(f=k.price)||void 0===f?void 0:f.amount,address:null==eR?void 0:null===(C=eR.market)||void 0===C?void 0:null===(w=C.floorAsk)||void 0===w?void 0:null===($=w.price)||void 0===$?void 0:null===(S=$.currency)||void 0===S?void 0:S.contract,decimals:null==eR?void 0:null===(I=eR.market)||void 0===I?void 0:null===(A=I.floorAsk)||void 0===A?void 0:null===(T=A.price)||void 0===T?void 0:null===(W=T.currency)||void 0===W?void 0:W.decimals,textStyle:"h4",logoHeight:20,maximumFractionDigits:7}),(0,o.jsx)(b.xv,{style:"body3",css:{color:"$gray11"},ellipsify:!0,children:(null==eR?void 0:null===(G=eR.market)||void 0===G?void 0:null===(D=G.floorAsk)||void 0===D?void 0:null===(E=D.price)||void 0===E?void 0:E.amount)&&eT===eo.n.USD?(0,o.jsx)(b.gv,{amount:null==eR?void 0:null===(B=eR.market)||void 0===B?void 0:null===(N=B.floorAsk)||void 0===N?void 0:null===(O=N.price)||void 0===O?void 0:null===(Z=O.amount)||void 0===Z?void 0:Z.decimal}):(0,o.jsx)(b.uA,{amount:null==eR?void 0:null===(H=eR.market)||void 0===H?void 0:null===(F=H.floorAsk)||void 0===F?void 0:null===(L=F.price)||void 0===L?void 0:null===(P=L.amount)||void 0===P?void 0:P.usd})})]})]}),(0,o.jsxs)(b.kC,{direction:"column",align:"start",css:{gap:"$1"},children:[(0,o.jsx)(b.xv,{style:"subtitle2",children:"Top Offer"}),(0,o.jsxs)(b.kC,{align:"center",css:{flexDirection:"column","@bp400":{flexDirection:"row",gap:"$2"}},children:[(0,o.jsx)(b.u,{side:"top",open:null!=eR&&null!==(q=eR.market)&&void 0!==q&&null!==(_=q.topBid)&&void 0!==_&&null!==(U=_.price)&&void 0!==U&&null!==(M=U.netAmount)&&void 0!==M&&!!M.decimal&&void 0,content:(0,o.jsxs)(b.kC,{justify:"between",css:{gap:"$2"},children:[(0,o.jsx)(b.xv,{style:"body3",children:"Net Amount"}),(0,o.jsx)(R.Z,{amount:null==eR?void 0:null===(V=eR.market)||void 0===V?void 0:null===(Y=V.topBid)||void 0===Y?void 0:null===(J=Y.price)||void 0===J?void 0:J.netAmount,address:null==eR?void 0:null===(Q=eR.market)||void 0===Q?void 0:null===(X=Q.topBid)||void 0===X?void 0:null===(K=X.price)||void 0===K?void 0:null===(ee=K.currency)||void 0===ee?void 0:ee.contract,decimals:null==eR?void 0:null===(ei=eR.market)||void 0===ei?void 0:null===(el=ei.topBid)||void 0===el?void 0:null===(et=el.price)||void 0===et?void 0:null===(es=et.currency)||void 0===es?void 0:es.decimals,textStyle:"subtitle3",maximumFractionDigits:7,logoHeight:14})]}),children:(0,o.jsx)(b.kC,{children:(0,o.jsx)(R.Z,{amount:null==eR?void 0:null===(ed=eR.market)||void 0===ed?void 0:null===(er=ed.topBid)||void 0===er?void 0:null===(ec=er.price)||void 0===ec?void 0:ec.amount,address:null==eR?void 0:null===(ea=eR.market)||void 0===ea?void 0:null===(eu=ea.topBid)||void 0===eu?void 0:null===(ev=eu.price)||void 0===ev?void 0:null===(eh=ev.currency)||void 0===eh?void 0:eh.contract,decimals:null==eR?void 0:null===(ex=eR.market)||void 0===ex?void 0:null===(eg=ex.topBid)||void 0===eg?void 0:null===(ep=eg.price)||void 0===ep?void 0:null===(em=ep.currency)||void 0===em?void 0:em.decimals,textStyle:"h4",maximumFractionDigits:7,logoHeight:20})})}),(0,o.jsx)(b.xv,{style:"body3",css:{color:"$gray11"},ellipsify:!0,children:(null==eR?void 0:null===(ey=eR.market)||void 0===ey?void 0:null===(ej=ey.topBid)||void 0===ej?void 0:null===(ek=ej.price)||void 0===ek?void 0:ek.amount)&&eT===eo.n.USD?(0,o.jsx)(b.gv,{amount:null==eR?void 0:null===(ef=eR.market)||void 0===ef?void 0:null===(eb=ef.topBid)||void 0===eb?void 0:null===(eC=eb.price)||void 0===eC?void 0:null===(ew=eC.amount)||void 0===ew?void 0:ew.decimal}):(0,o.jsx)(b.uA,{amount:null==eR?void 0:null===(e$=eR.market)||void 0===e$?void 0:null===(eS=e$.topBid)||void 0===eS?void 0:null===(eI=eS.price)||void 0===eI?void 0:null===(eA=eI.amount)||void 0===eA?void 0:eA.usd})})]})]})]})};var ed=e=>{var i,n;let{token:l,collection:t,collectionAttributes:s}=e,d=null==l?void 0:null===(i=l.token)||void 0===i?void 0:i.rarityRank,r=null==t?void 0:t.tokenCount,c=Math.floor(d/parseInt(r)*100),a=c<=50&&"Top ".concat((e=>{if(e<=1)return 1;if(e<=5)return 5;if(e<=10)return 10;if(e<=15)return 15;if(e<=20)return 20;if(e<=25)return 25;if(e<=30)return 30;else if(e<=40)return 40;else if(e<=50)return 50;else return})(c),"%"),u=r&&+r>=2&&s&&(null==s?void 0:s.length)>=2;return null!=d&&(null==l?void 0:null===(n=l.token)||void 0===n?void 0:n.kind)!=="erc1155"&&u?(0,o.jsx)(b.u,{content:(0,o.jsxs)(b.kC,{direction:"column",align:"start",children:[(0,o.jsx)(b.xv,{style:"body3",children:a}),(0,o.jsxs)(b.xv,{style:"body3",ellipsify:!0,children:["Rarity rank:"," ","".concat((0,Z.uf)(d),"/\n            ").concat((0,Z.uf)(r))]}),(0,o.jsx)(b.xv,{style:"body3",color:"subtle",children:"By Poprank"})]}),children:(0,o.jsxs)(b.kC,{align:"center",css:{background:"$gray2",mr:"auto",px:"$2",py:"$1",borderRadius:4,gap:"$1",cursor:"pointer"},children:[(0,o.jsx)("img",{style:{width:13,height:13},src:"/icons/rarity-icon.svg"}),(0,o.jsx)(b.xv,{style:"subtitle2",css:{color:"$gray11"},children:"Rank"}),(0,o.jsxs)(b.xv,{style:"subtitle2",children:[(0,Z.uf)(d)," "]})]})}):null},er=n(90345);let ec=e=>{let{account:i,token:n}=e,o=(0,t.RW)(),l=null==o?void 0:o.currentChain(),[s,d]=(0,c.useState)(void 0),[r,a]=(0,c.useState)(!1),u=(0,c.useMemo)(()=>s?s.reduce((e,i)=>e+Number(i.quantity||0),0):0,[s]),v=(0,c.useCallback)(()=>{var e,t;if(!o||!n||!l||!(null===(e=l.paymentTokens)||void 0===e?void 0:e.length)){d(void 0);return}return a(!0),o.actions.buyToken({options:{currency:l.paymentTokens[0].address,currencyChainId:l.paymentTokens[0].chainId,onlyPath:!0,partial:!0},chainId:l.id,items:[{fillType:"trade",token:n}],wallet:{address:async()=>i.address||W.D},onProgress(){},precheck:!0}).then(e=>d(null!==(t=null==e?void 0:e.path)&&void 0!==t?t:[])).catch(e=>{var i,n,o;throw(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:null===(o=n.message)||void 0===o?void 0:o.includes("Price too high"))||d([]),e}).finally(()=>a(!1))},[open,l,o,n]);return(0,c.useEffect)(()=>{n&&v()},[v,n]),{data:{quantityRemaining:u},isFetching:r}},ea=e=>{var i,n,l,t,s,d,a,u,v,g,p,m,y,k,f,C,w,$,S,I,A,R,z,T,W,G,D,E,B,N,O,Z,H,F,L,P,q;let{disabled:_=!1,token:U,offer:V,listing:Y,isOwner:J,mutate:Q,account:X}=e,K=(0,r.useRouter)(),ei=(0,c.useState)(!0),[en,eo]=(0,c.useState)(!0),[el,et]=(0,c.useState)(1),[es,ed]=K.asPath.split("?"),ea=es.split("/"),eu="buy"===ea[ea.length-1],ev=K.query.bidId,eh="true"===K.query.acceptBid,ex=(null==U?void 0:null===(i=U.token)||void 0===i?void 0:i.kind)==="erc1155",eg=U.token?"".concat(null===(n=U.token)||void 0===n?void 0:n.contract,":").concat(null===(l=U.token)||void 0===l?void 0:l.tokenId):void 0,{data:ep}=ec({account:X,token:eg}),em=!ex&&(null==U?void 0:null===(t=U.market)||void 0===t?void 0:null===(s=t.topBid)||void 0===s?void 0:s.id)!==null&&(null==U?void 0:null===(d=U.market)||void 0===d?void 0:null===(a=d.topBid)||void 0===a?void 0:a.id)!==void 0&&!!J&&null!=U&&null!==(u=U.token)&&void 0!==u&&!!u.owner,ey=X.isConnected&&(null==U?void 0:null===(v=U.market)||void 0===v?void 0:null===(g=v.topBid)||void 0===g?void 0:null===(p=g.maker)||void 0===p?void 0:p.toLowerCase())===(null==X?void 0:null===(m=X.address)||void 0===m?void 0:m.toLowerCase()),ej=!!U&&(null==U?void 0:null===(y=U.market)||void 0===y?void 0:null===(k=y.floorAsk)||void 0===k?void 0:k.id)!==null,ek=null==V?void 0:V.isNativeOffChainCancellable,ef=null==Y?void 0:Y.isNativeOffChainCancellable,eb={width:"100%",height:52,justifyContent:"center",minWidth:"max-content"};return(0,o.jsxs)(b.rj,{align:"center",css:{gap:"$4",gridTemplateColumns:"repeat(1,minmax(0,1fr))",width:"100%","@sm":{gridTemplateColumns:"repeat(2,minmax(0,1fr))",width:"100%"}},children:[J&&!ex&&(0,o.jsx)(j.aV,{token:U,mutate:Q,buttonCss:eb,buttonChildren:(null==U?void 0:null===(f=U.market)||void 0===f?void 0:null===(C=f.floorAsk)||void 0===C?void 0:null===(w=C.price)||void 0===w?void 0:null===($=w.amount)||void 0===$?void 0:$.decimal)?"Create New Listing":"List for Sale"}),(!J||ex)&&ej&&(null==U?void 0:null===(S=U.market)||void 0===S?void 0:null===(I=S.floorAsk)||void 0===I?void 0:null===(A=I.price)||void 0===A?void 0:A.amount)&&(0,o.jsxs)(b.kC,{css:{...eb,borderRadius:8,overflow:"hidden",gap:1},children:[ex?(0,o.jsx)(er.Z,{quantity:el,min:1,max:ep.quantityRemaining||0,setQuantity(e){et(e)}}):null,(0,o.jsx)(j.Wg,{analyticsId:"click buy now on token item details page",disabled:_||0===ep.quantityRemaining,token:U,quantity:el,setIsBuyNowOpen:eo,source:null!==(q=null==U?void 0:null===(R=U.market)||void 0===R?void 0:null===(z=R.floorAsk)||void 0===z?void 0:null===(T=z.source)||void 0===T?void 0:T.name)&&void 0!==q?q:"",tokenId:null===(W=U.token)||void 0===W?void 0:W.tokenId,contract:null===(G=U.token)||void 0===G?void 0:null===(D=G.collection)||void 0===D?void 0:D.id,buttonCss:{flex:1,justifyContent:"center",w:"100%"},buttonChildren:(0,o.jsx)(b.xv,{css:{fontWeight:600,fontSize:16,color:"white"},children:ex?"Buy ".concat(el," Now"):"Buy Now"}),buttonProps:{corners:"rounded"},mutate:Q,openState:!J&&eu?[en,eo]:void 0}),em&&(0,o.jsx)(j.ZS,{analyticsId:"click marketplace accept - on token item details page",disabled:_,tokenId:null===(E=U.token)||void 0===E?void 0:E.tokenId,bidId:ev,collectionId:null==U?void 0:null===(B=U.token)||void 0===B?void 0:B.contract,openState:J&&(ev||eh)?ei:void 0,mutate:Q,buttonCss:eb,buttonChildren:"Accept Offer"})]}),(!J||ex)&&(0,o.jsx)(j.QE,{disabled:_,tokenId:null==U?void 0:null===(N=U.token)||void 0===N?void 0:N.tokenId,collectionId:null==U?void 0:null===(O=U.token)||void 0===O?void 0:null===(Z=O.collection)||void 0===Z?void 0:Z.id,mutate:Q,buttonCss:eb}),ey&&!ex&&(0,o.jsx)(ee.Z,{bidId:null==U?void 0:null===(H=U.market)||void 0===H?void 0:null===(F=H.topBid)||void 0===F?void 0:F.id,mutate:Q,trigger:(0,o.jsx)(b.kC,{children:ek?(0,o.jsx)(b.zx,{css:{color:"$red11",width:"100%",height:52,justifyContent:"center",minWidth:"max-content","@sm":{maxWidth:250}},color:"gray3",children:"Cancel Offer"}):(0,o.jsx)(b.u,{content:(0,o.jsx)(b.xv,{style:"body3",as:"p",children:"Cancelling this order requires gas."}),children:(0,o.jsxs)(b.zx,{css:{color:"$red11",width:"100%",height:52,justifyContent:"center",minWidth:"max-content","@sm":{maxWidth:250}},color:"gray3",children:[(0,o.jsx)(x.G,{color:"#697177",icon:h.q16,width:"16",height:"16"}),"Cancel Offer"]})})})}),J&&ej&&!ex&&(0,o.jsx)(M.Z,{listingId:null==U?void 0:null===(L=U.market)||void 0===L?void 0:null===(P=L.floorAsk)||void 0===P?void 0:P.id,mutate:Q,trigger:(0,o.jsx)(b.kC,{children:ef?(0,o.jsx)(b.zx,{css:{color:"$red11",minWidth:"150px",justifyContent:"center"},color:"gray3",children:"Cancel Listing"}):(0,o.jsx)(b.u,{content:(0,o.jsx)(b.xv,{style:"body3",as:"p",children:"Cancelling this order requires gas."}),children:(0,o.jsxs)(b.zx,{css:{color:"$red11",minWidth:"150px"},color:"gray3",children:[(0,o.jsx)(x.G,{color:"#697177",icon:h.q16,width:"16",height:"16"}),"Cancel Listing"]})})})})]})};var eu=n(13337);function ev(e){let{description:i}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eu.Z,{style:{marginTop:24}}),(0,o.jsx)(b.xv,{style:"body1",css:{py:"$3",px:"$3","@md":{px:0},wordBreak:"break-word"},children:i}),(0,o.jsx)(eu.Z,{})]})}var eh=n(93024),ex=n(31139),eg=n(82010),ep=n(39525),em=n(48329),ey=n(68437),ej=n(77497);let ek=e=>{var i,n,l,t,s,d,a,u,v,g,p,m,y;let{token:j,collection:k}=e,f=(0,z.gw)(),{theme:C}=(0,eg.F)(),[w,$]=(0,c.useState)(!1),S=(0,c.useRef)(null),I=(0,z.s4)(),A=(0,r.useRouter)(),R=(0,ey.Z)(A.query.chain),T="".concat(null==j?void 0:null===(i=j.token)||void 0===i?void 0:i.kind),W=(0,ex.zo)(b.kC,{px:"$4",py:"$3",color:"$gray12",background:"$gray3",cursor:"pointer",transition:"background 0.25s ease-in",height:40,alignItems:"center","&:hover":{background:"$gray4"}}),G=(0,c.useMemo)(()=>{var e,i;return(0,ej.Z)((null==j?void 0:null===(e=j.token)||void 0===e?void 0:null===(i=e.collection)||void 0===i?void 0:i.image)||(null==k?void 0:k.image),50)},[null==j?void 0:null===(n=j.token)||void 0===n?void 0:null===(l=n.collection)||void 0===l?void 0:l.image,null==k?void 0:k.image]),D=(0,o.jsx)("img",{src:I&&"dark"===C?"/icons/etherscan-logo-light-circle.svg":"/icons/etherscan-logo-circle.svg",alt:"".concat((null===(t=f.blockExplorers)||void 0===t?void 0:t.default.name)||"Ethereum"," Icon"),height:16,width:16}),E="".concat((null==f?void 0:null===(s=f.blockExplorers)||void 0===s?void 0:s.default.url)||"https://etherscan.io","/token/").concat(null==j?void 0:null===(d=j.token)||void 0===d?void 0:d.contract,"?a=").concat(null==j?void 0:null===(a=j.token)||void 0===a?void 0:a.tokenId),B=(null==k?void 0:k.twitterUsername)?"https://twitter.com/".concat(null==k?void 0:k.twitterUsername):null,N=!1;return S.current&&(N=S.current.offsetHeight>50),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(b.kC,{direction:"column",css:{gap:"$3",maxWidth:"100%"},children:[(0,o.jsxs)(b.kC,{css:{gap:"$2",flex:1},align:"center",children:[(0,o.jsx)("img",{src:G,style:{width:36,height:36,borderRadius:4}}),(0,o.jsx)(b.xv,{style:"h6",ellipsify:!0,children:(null==j?void 0:null===(u=j.token)||void 0===u?void 0:null===(v=u.collection)||void 0===v?void 0:v.name)||(null==k?void 0:k.name)}),(0,o.jsx)(F.v,{openseaVerificationStatus:null==k?void 0:k.openseaVerificationStatus})]}),(0,o.jsxs)(b.kC,{direction:"column",css:{fontSize:"16px",fontFamily:400,overflow:"hidden",a:{textDecoration:"underline"}},children:[(0,o.jsx)(b.kC,{direction:"column",css:w?void 0:{maxWidth:"100%",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,textOverflow:"ellipsis",overflow:"hidden",verticalAlign:"top","*":{display:"inline"}},children:(0,o.jsx)(b.xv,{ref:S,children:(0,o.jsx)(em.D,{linkTarget:"_blank",children:null==k?void 0:k.description})})}),N&&(0,o.jsx)(b.zx,{color:"ghost",size:"xs",css:{width:"max-content",color:"$primary11",fontWeight:500,height:28,minHeight:28,px:0},onClick(){$(!w)},children:w?"read less":"read more"})]}),(0,o.jsxs)(b.kC,{css:{borderRadius:8,overflow:"hidden",gap:1,flexShrink:0,mb:"$3",width:"max-content"},children:[(0,o.jsx)("a",{href:E,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(W,{children:D})}),B&&(0,o.jsx)("a",{href:B,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(W,{children:(0,o.jsx)(x.G,{icon:eh.mdU,width:16,height:16})})}),(null==k?void 0:k.discordUrl)&&(0,o.jsx)("a",{href:k.discordUrl,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(W,{children:(0,o.jsx)(x.G,{icon:eh.omb,width:16,height:16})})}),(null==k?void 0:k.externalUrl)&&(0,o.jsx)("a",{href:k.externalUrl,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(W,{children:(0,o.jsx)(x.G,{icon:h.g4A,width:16,height:16})})})]}),(0,o.jsxs)(b.kC,{direction:"column",css:{width:"100%",gap:"$2"},children:[(0,o.jsxs)(b.kC,{justify:"between",css:{width:"100%"},children:[(0,o.jsx)(b.xv,{style:"subtitle1",css:{color:"$gray11",fontWeight:"normal"},children:"Contract Address"}),(0,o.jsx)(b.ee,{href:E,target:"_blank",rel:"noopener noreferrer",color:"primary",weight:"medium",children:(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$2"},children:[(0,ep.F)(null==j?void 0:null===(g=j.token)||void 0===g?void 0:g.contract),(0,o.jsx)(x.G,{icon:h.gJF,width:12,height:15})]})})]}),(0,o.jsxs)(b.kC,{justify:"between",css:{width:"100%"},children:[(0,o.jsx)(b.xv,{style:"subtitle1",css:{color:"$gray11",fontWeight:"normal"},children:"Chain"}),(0,o.jsx)(b.xv,{style:"subtitle1",children:R})]}),(0,o.jsxs)(b.kC,{justify:"between",css:{width:"100%"},children:[(0,o.jsx)(b.xv,{style:"subtitle1",css:{color:"$gray11",fontWeight:"normal",whiteSpace:"nowrap",mr:"$2"},children:"Token ID"}),(0,o.jsx)(b.xv,{style:"subtitle1",ellipsify:!0,css:{maxWidth:"100%"},children:null==j?void 0:null===(p=j.token)||void 0===p?void 0:p.tokenId})]}),(0,o.jsxs)(b.kC,{justify:"between",css:{width:"100%"},children:[(0,o.jsx)(b.xv,{style:"subtitle1",css:{color:"$gray11",fontWeight:"normal"},children:"Token Standard"}),(0,o.jsx)(b.xv,{style:"subtitle1",css:{textTransform:"uppercase"},children:T})]}),(0,o.jsxs)(b.kC,{justify:"between",css:{width:"100%"},children:[(0,o.jsxs)(b.kC,{align:"center",css:{gap:"$2"},children:[(0,o.jsx)(b.xv,{style:"subtitle1",css:{color:"$gray11",fontWeight:"normal"},children:"Creator Royalties"}),(0,o.jsx)(b.u,{content:(0,o.jsx)(b.xv,{style:"body3",as:"p",children:"A fee on every order that goes to the collection creator."}),style:{maxWidth:"210px"},children:(0,o.jsx)(b.xv,{css:{color:"$gray11"},children:(0,o.jsx)(x.G,{icon:h.sqG,width:16,height:16})})})]}),(0,o.jsxs)(b.xv,{style:"subtitle1",children:[(null==k?void 0:null===(m=k.royalties)||void 0===m?void 0:m.bps)?(null==k?void 0:null===(y=k.royalties)||void 0===y?void 0:y.bps)*.01:0,"%"]})]})]})]})})};var ef=n(48680),eb=n(21130),eC=n(14512);let ew="listings",e$=e=>{var i,n,s,u,$,S,A,R,T,W,D,E,B,N,O,Z,F,P,q,M,V,Y,J,Q,K,ee,ei,en,eo,et,er,ec,eu,eh,ex,eg,ep,em,ej,e$,eS,eI,eA;let{assetId:eR,ssr:ez}=e,eT=eR?eR.toString().split(":"):[],eW=eT[0],eG=eT[1],eD=(0,r.useRouter)(),{addToast:eE}=(0,c.useContext)(L.u),eB=(0,p.mA)(),eN=(0,z.s4)(),eO=(0,g.useMediaQuery)({maxWidth:900})&&eN,[eZ,eH]=(0,c.useState)(ew),[eF,eL]=(0,c.useState)(!0),[eP,eq]=(0,c.useState)([]),[e_,eU]=(0,c.useState)([]),eM=eW?null==eW?void 0:eW.split(":")[0]:void 0,{data:eV,mutate:eY}=(0,t.XN)({tokens:["".concat(eM,":").concat(eG)],includeAttributes:!0,includeTopBid:!0,includeQuantity:!0},{fallbackData:[ez.tokens?ez.tokens:{}]}),eJ=eV&&eV[0]?eV[0]:null,eQ=(null==eJ?void 0:null===(i=eJ.token)||void 0===i?void 0:i.kind)==="erc1155",eX=(0,eC.R)(eJ),{data:eK}=(0,t.bX)({includeSecurityConfigs:!0,id:null==eJ?void 0:null===(n=eJ.token)||void 0===n?void 0:null===(s=n.collection)||void 0===s?void 0:s.id},{fallbackData:[ez.collection?ez.collection:{}]}),e0=eK&&eK[0]?eK[0]:null,{data:e1}=(0,t.Vy)(eQ?eB.address:void 0,{tokens:["".concat(eM,":").concat(eG)],limit:20}),{data:e2}=(0,t.Lk)({token:"".concat(null==eJ?void 0:null===(u=eJ.token)||void 0===u?void 0:null===($=u.collection)||void 0===$?void 0:$.id,":").concat(null==eJ?void 0:null===(S=eJ.token)||void 0===S?void 0:S.tokenId),includeRawData:!0,sortBy:"price",limit:1}),{data:e3}=(0,t.Jn)({token:"".concat(null==eJ?void 0:null===(A=eJ.token)||void 0===A?void 0:null===(R=A.collection)||void 0===R?void 0:R.id,":").concat(null==eJ?void 0:null===(T=eJ.token)||void 0===T?void 0:T.tokenId),includeRawData:!0,sortBy:"price",limit:1}),e4=e2&&e2[0]?e2[0]:void 0,e6=e3&&e3[0]?e3[0]:void 0,e5=(0,t.Ch)(eW),e8=0;e8=eQ?Number((null==e1?void 0:null===(ep=e1[0])||void 0===ep?void 0:null===(em=ep.ownership)||void 0===em?void 0:em.tokenCount)||0):(null==eJ?void 0:null===(ej=eJ.token)||void 0===ej?void 0:null===(e$=ej.owner)||void 0===e$?void 0:e$.toLowerCase())===(null==eB?void 0:null===(eS=eB.address)||void 0===eS?void 0:eS.toLowerCase())?1:0;let e7=e8>0,e9=e7?null==eB?void 0:eB.address:null==eJ?void 0:null===(W=eJ.token)||void 0===W?void 0:W.owner,{displayName:ie}=(0,z.Af)(null==eJ?void 0:null===(D=eJ.token)||void 0===D?void 0:D.owner),ii="".concat((null==eJ?void 0:null===(E=eJ.token)||void 0===E?void 0:E.name)||"#".concat(null==eJ?void 0:null===(B=eJ.token)||void 0===B?void 0:B.tokenId)),io=(null==eJ?void 0:null===(N=eJ.token)||void 0===N?void 0:N.attributes)&&(null==eJ?void 0:null===(O=eJ.token)||void 0===O?void 0:O.attributes.length)>0,il=(0,o.jsxs)(b.zx,{color:"gray3",size:"small",css:{justifyContent:"space-between",width:"336px",px:"$2",py:"$2"},children:[eO?null:(0,o.jsx)(b.xv,{style:"body1",children:e_.map(ey.Z).join(", ")||"All Events"}),(0,o.jsx)(b.xv,{css:{color:"$slate10"},children:(0,o.jsx)(x.G,{icon:h.ptq,width:16,height:16,color:"white"})})]});(0,c.useEffect)(()=>{let e=eZ;e=ew;let i=null;{let n=new URL(window.location.href).searchParams;i=n.get("tab")}if(i)switch(i){case"attributes":eN&&eO&&io&&(e="attributes");break;case"info":e="info";break;case"activity":e="activity";break;case"listings":e="listings";break;case"offers":e="offers"}eH(e)},[eO]),(0,c.useEffect)(()=>{let e=new URL("".concat(window.location.origin).concat(eD.asPath));e.searchParams.set("tab",eZ),eD.replace(e,void 0,{shallow:!0})},[eZ]);let it=(null==eJ?void 0:null===(Z=eJ.token)||void 0===Z?void 0:Z.name)?eJ.token.name:"".concat(null==eJ?void 0:null===(F=eJ.token)||void 0===F?void 0:F.tokenId," - ").concat(null==eJ?void 0:null===(P=eJ.token)||void 0===P?void 0:null===(q=P.collection)||void 0===q?void 0:q.name),is=(0,eC.J)(eJ);return(0,o.jsxs)(y.Z,{children:[(0,o.jsx)(m.F,{ogImage:(null==eJ?void 0:null===(M=eJ.token)||void 0===M?void 0:M.image)||(null==e0?void 0:e0.banner),title:it,description:null==e0?void 0:e0.description}),(0,o.jsx)(b.kC,{justify:"center",direction:"column",css:{mt:10,pb:100,marginLeft:"auto",marginRight:"auto","@lg":{mx:"$4"}},children:(0,o.jsxs)(b.kC,{css:{width:"100%",gap:20,flexDirection:"column",alignItems:"center","@md":{mt:"$3",px:"$3",flexDirection:"row",gap:40,alignItems:"flex-start"}},children:[(0,o.jsxs)(b.kC,{direction:"column",css:{maxWidth:"100%",flex:1,width:"100%",position:"relative","@lg":{flex:.75},"@sm":{">button":{height:0,opacity:0,transition:"opacity .3s"}},":hover >button":{opacity:1,transition:"opacity .3s"}},children:[(0,o.jsxs)(b.xu,{css:{backgroundColor:"$gray3",borderRadius:8,"@sm":{button:{height:0,opacity:0,transition:"opacity .3s"}},":hover button":{opacity:1,transition:"opacity .3s"}},children:[(0,o.jsx)(t.Y1,{token:null==is?void 0:is.token,videoOptions:{autoPlay:!0,muted:!0},imageResolution:"large",style:{width:"100%",height:"auto",minHeight:eN&&eO?300:445,borderRadius:eO?0:8,overflow:"hidden"},onRefreshToken(){null==eY||eY(),null==eE||eE({title:"Refresh token",description:"Request to refresh this token was accepted."})}}),ef.VZ.includes(null!==(eI=null==eJ?void 0:null===(V=eJ.token)||void 0===V?void 0:null===(Y=V.collection)||void 0===Y?void 0:Y.id)&&void 0!==eI?eI:"")?(0,o.jsx)(U.Z,{token:eJ}):null]}),(null==eJ?void 0:null===(J=eJ.token)||void 0===J?void 0:J.description)&&(0,o.jsx)(ev,{description:null==eJ?void 0:null===(Q=eJ.token)||void 0===Q?void 0:Q.description}),(null==eJ?void 0:null===(K=eJ.token)||void 0===K?void 0:K.attributes)&&!eO&&(0,o.jsx)(b.rj,{css:{maxWidth:"100%",width:"100%",gridTemplateColumns:"1fr 1fr","@lg":{gridTemplateColumns:"1fr 1fr 1fr"},gap:"$3",mt:24},children:null==eJ?void 0:null===(ee=eJ.token)||void 0===ee?void 0:null===(ei=ee.attributes)||void 0===ei?void 0:ei.map(e=>(0,o.jsx)(H,{attribute:e,collectionTokenCount:(null==e0?void 0:e0.tokenCount)||0,collectionId:null==e0?void 0:e0.id},"".concat(e.key,"-").concat(e.value)))})]}),(0,o.jsxs)(b.kC,{direction:"column",css:{flex:1,px:"$3",width:"100%","@md":{px:0,overflow:"hidden"}},children:[(0,o.jsx)(_,{router:eD,collection:e0,token:eJ,contract:eM,id:eG}),(0,o.jsxs)(b.kC,{align:"center",direction:"row",css:{gap:"$2"},children:[(0,o.jsx)(b.xv,{style:"h3",css:{wordBreak:"break-all"},children:ii}),!0===eX?(0,o.jsx)(f.Z,{}):null,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(ed,{token:eJ,collection:e0,collectionAttributes:null==e5?void 0:e5.data})]}),eJ&&(0,o.jsxs)(o.Fragment,{children:[eQ&&e8>0&&(0,o.jsxs)(b.kC,{align:"center",css:{mt:"$2"},children:[(0,o.jsxs)(b.xv,{style:"subtitle1",color:"subtle",css:{mr:"$2"},children:["You own ",e8]}),(0,o.jsx)(j.aV,{analyticsId:"click marketplace list for sale",token:eJ,buttonCss:{minH:28,px:7,py:0},buttonSizeProp:"none",buttonColorProp:"neutralPrimary",buttonChildren:(0,o.jsx)(b.kC,{onClick(){eb.co.trackWebEvent("click marketplace sell in item details page")},children:(0,o.jsx)(b.ee,{color:"primary",weight:"normal",css:{fontSize:20,padding:6},children:"Sell"})}),mutate:eY})]}),!eQ&&(0,o.jsxs)(b.kC,{align:"center",css:{mt:"$2"},children:[(0,o.jsx)(b.xv,{style:"subtitle3",color:"subtle",css:{mr:"$2"},children:"Owned by"}),(0,o.jsx)(v(),{diameter:16,seed:(0,a.jsNumberForAddress)(e9||"")}),(0,o.jsx)(d(),{href:"/portfolio/".concat(e9),legacyBehavior:!0,children:(0,o.jsx)(b.ee,{color:"primary",weight:"normal",css:{ml:"$1"},children:eN?ie:""})})]}),(0,o.jsx)(es,{token:eJ}),eN&&(0,o.jsx)(ea,{disabled:!0===eX,token:eJ,offer:e4,listing:e6,isOwner:e7,mutate:eY,account:eB}),(0,o.jsxs)(l.fC,{value:eZ,onValueChange:e=>eH(e),style:{paddingRight:eO?0:15},children:[(0,o.jsxs)(w.dr,{css:{overflowX:eO?"scroll":"unset"},children:[eN&&eO&&io&&(0,o.jsx)(w.SP,{value:"attributes",children:"Attributes"}),(0,o.jsx)(w.SP,{value:"info",children:"Info"}),(0,o.jsx)(w.SP,{value:"activity",children:"Activity"}),(0,o.jsx)(w.SP,{value:"listings",children:"Listings"}),(0,o.jsx)(w.SP,{value:"offers",children:"Offers"})]}),(0,o.jsx)(w.nU,{value:"attributes",children:(null==eJ?void 0:null===(en=eJ.token)||void 0===en?void 0:en.attributes)&&(0,o.jsx)(b.rj,{css:{gap:"$3",mt:24,gridTemplateColumns:"1fr","@sm":{gridTemplateColumns:"1fr 1fr"}},children:null==eJ?void 0:null===(eo=eJ.token)||void 0===eo?void 0:null===(et=eo.attributes)||void 0===et?void 0:et.map(e=>(0,o.jsx)(H,{attribute:e,collectionTokenCount:(null==e0?void 0:e0.tokenCount)||0,collectionId:null==e0?void 0:e0.id},"".concat(e.key,"-").concat(e.value)))})}),(0,o.jsx)(w.nU,{value:"info",children:e0&&(0,o.jsx)(ek,{token:eJ,collection:e0})}),(0,o.jsxs)(w.nU,{value:"activity",css:{mr:-15},children:[eO?(0,o.jsx)(k.r,{activityTypes:eP,setActivityTypes:eq}):(0,o.jsx)(C.Lt,{trigger:il,contentProps:{sideOffset:8},children:(0,o.jsx)(I,{open:eF,setOpen:eL,activityTypes:eP,activityNames:e_,setActivityNames:eU,setActivityTypes:eq})}),(0,o.jsx)(G,{id:"".concat(eM,":").concat(null==eJ?void 0:null===(er=eJ.token)||void 0===er?void 0:er.tokenId),activityTypes:eP})]}),(0,o.jsx)(w.nU,{value:"listings",children:(0,o.jsx)(X,{address:eB.address,tokenSrc:null!==(eA=null==eJ?void 0:null===(ec=eJ.market)||void 0===ec?void 0:null===(eu=ec.floorAsk)||void 0===eu?void 0:null===(eh=eu.source)||void 0===eh?void 0:eh.name)&&void 0!==eA?eA:"",token:eJ,tokenString:"".concat(eM,":").concat(null==eJ?void 0:null===(ex=eJ.token)||void 0===ex?void 0:ex.tokenId),is1155:eQ,isOwner:e7})}),(0,o.jsx)(w.nU,{value:"offers",css:{mr:-15,width:"100%"},children:(0,o.jsx)(el,{token:"".concat(eM,":").concat(null==eJ?void 0:null===(eg=eJ.token)||void 0===eg?void 0:eg.tokenId),address:eB.address,is1155:eQ,isOwner:e7})})]})]})]})]})})]})};var eS=!0,eI=e$},68437:function(e,i){"use strict";i.Z=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}}},function(e){e.O(0,[7948,1664,5675,912,7421,2307,5193,8329,9228,1943,3161,9774,2888,179],function(){return e(e.s=62812)}),_N_E=e.O()}]);
//# sourceMappingURL=[assetId]-65417fade179626a.js.map